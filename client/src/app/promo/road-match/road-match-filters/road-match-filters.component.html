<div *ngIf="isModalVisible" class="fixed inset-0 flex z-[1055] p-2 items-center justify-center overflow-y-auto">
    <div class="fixed inset-0 w-screen bg-[#30405b]/80 h-screen left-0 top-0 overflow-hidden"></div>
    <div class="mt-12 mb-6">
        <div class="relative bg-white rounded-lg shadow-[inset_0_0,0_0_50px_#e5e7eb] overflow-hidden">
            <div
                class="w-full m-auto tw-modal-width bg-[#30405b] flex flex-col justify-center items-center rounded-md p-6 lg:p-8">
                <button type="button" class="absolute top-1 outline-none right-6" (click)="closeModal()">
                    <span class="text-white text-5xl">&times;</span>
                </button>
                <ng-container *ngIf="currentStep === 1">
                    <!-- Step 1 -->
                    <img src="{{imgUrl}}/general/roadmatch/roadmatch-logo.png">
                    <span
                        class="text-2xl md:text-3xl lg:text-4xl xl:text-[40px] font-bold text-white text-center mb-[3rem]">
                        Trouvez votre partenaire de route idéal !
                    </span>
                    <button type="button"
                        class="text-[#30405b] uppercase text-2xl md:text-3xl lg:text-4xl xl:text-[40px] font-bold mb-[3rem] p-[0.75rem] md:px-4 lg:px-4 xl:px-5 md:py-3 lg:py-3 xl:py-4 rounded bg-white focus:bg-white"
                        (click)="nextStep()">
                        Je lance le test
                    </button>
                </ng-container>
                <ng-container *ngIf="currentStep === 2">
                    <!-- Step 2 -->
                    <img class="mt-8 h-[150px] lg:h-[200px] xl-h[200px]"
                        src="{{imgUrl}}/general/roadmatch/roadmatch-logo.png">
                    <span class="text-2xl xl:text-[40px] lg:text-4xl md:text-3xl font-bold text-white text-center">
                        Quel type de véhicule recherchez-vous ?
                        <div class=" text-sm text-white text-center mt-1" *ngIf="total >= 0"> {{total}} véhicules
                            correspondent à vos critères</div>
                    </span>
                    <ul class="text-start sm:mx-0 md:mx-5 lg:mx-5 xl:mx-5 my-8">
                        <li *ngFor="let item of vehicleTypes" class="ais-RefinementList-item mb-2">
                            <label class="ais-RefinementList-label">
                                <input type="checkbox" [value]="item.value"
                                    class="ais-RefinementList-checkbox custom-checkbox"
                                    [checked]="isSelected('segmentEliteGroup', item)"
                                    (click)="selectItem('segmentEliteGroup', item)" />
                                <div class="line-height">
                                    <span class="text-white text-base md:text-xl lg:text-xl xl:text-xl">
                                        {{ item.description }}
                                    </span>
                                </div>
                            </label>
                        </li>
                        <li *ngFor="let item of vehicleUtilitaire" class="ais-RefinementList-item mb-2">
                            <label class="ais-RefinementList-label">
                                <input type="checkbox" [value]="item.value"
                                    class="ais-RefinementList-checkbox custom-checkbox"
                                    [checked]="isSelected('typeForRecherche', item)"
                                    (click)="selectItem('typeForRecherche', item)" />
                                <div class="line-height">
                                    <span class="text-white text-base md:text-xl lg:text-xl xl:text-xl">
                                        {{ item.description }}
                                    </span>
                                </div>
                            </label>
                        </li>
                        <span class="text-sm italic text-white">*(Plusieurs réponses sont possibles)</span>
                    </ul>
                    <div class="pt-4 w-full">
                        <img src="{{imgUrl}}/general/roadmatch/arrow_right.png"
                            class=" h-12 md:h-14 lg:h-16 float-right bottom-8" (click)="nextStep()">
                    </div>
                </ng-container>
                <ng-container *ngIf="currentStep === 3">
                    <!-- Step 3 -->
                    <img class="mt-8 h-[150px] lg:h-[200px] xl-h[200px]"
                        src="{{imgUrl}}/general/roadmatch/roadmatch-logo.png">
                    <span class="text-2xl xl:text-[40px] lg:text-4xl md:text-3xl font-bold text-white text-center">
                        Quel type de carburant préférez-vous ?
                        <div class=" text-sm text-white text-center mt-1" *ngIf="total >= 0"> {{total}} véhicules
                            correspondent à vos critères</div>
                    </span>
                    <ul class="text-start sm:mx-0 md:mx-5 lg:mx-5 xl:mx-5 my-8">
                        <li *ngFor="let item of carburantTypes" class="ais-RefinementList-item mb-2">
                            <label class="ais-RefinementList-label">
                                <input type="checkbox" [value]="item.value"
                                    class="ais-RefinementList-checkbox custom-checkbox"
                                    [checked]="isSelected('energieNormalized', item)"
                                    (click)="selectItem('energieNormalized', item)" />
                                <div class="line-height">
                                    <span class="text-white text-base md:text-xl lg:text-xl xl:text-xl">{{
                                        item.description }}</span>
                                </div>
                            </label>
                        </li>
                        <span class="text-sm italic text-white">*(Plusieurs réponses sont possibles)</span>
                    </ul>
                    <div class="pt-8 flex justify-between w-full">
                        <img src="{{imgUrl}}/general/roadmatch/arrow_left.png" class="h-12 md:h-14 lg:h-16 float-left"
                            (click)="prevStep()">
                        <img src="{{imgUrl}}/general/roadmatch/arrow_right.png" class="h-12 md:h-14 lg:h-16 float-right"
                            (click)="nextStep()">
                    </div>
                </ng-container>
                <ng-container *ngIf="currentStep === 4">
                    <!-- Step 4 -->
                    <img class="mt-8 h-[150px] lg:h-[200px] xl-h[200px]"
                        src="{{imgUrl}}/general/roadmatch/roadmatch-logo.png">
                    <span class="text-2xl xl:text-[40px] lg:text-4xl md:text-3xl font-bold text-white text-center">
                        Quel type de conducteur êtes-vous ?
                        <div class=" text-sm text-white text-center mt-1" *ngIf="total >= 0"> {{total}} véhicules
                            correspondent à vos critères</div>
                    </span>
                    <ul class="text-start sm:mx-0 md:mx-5 lg:mx-5 xl:mx-5 my-8">
                        <li *ngFor="let item of transmissionTypes" class="ais-RefinementList-item mb-2">
                            <label class="ais-RefinementList-label">
                                <input type="checkbox" [value]="item.value"
                                    class="ais-RefinementList-checkbox custom-checkbox"
                                    [checked]="isSelected('transmissionNormalized', item)"
                                    (click)="selectItem('transmissionNormalized', item)" />
                                <div class="line-height">
                                    <span class="text-white text-base md:text-xl lg:text-xl xl:text-xl">{{
                                        item.description }}</span>
                                </div>
                            </label>
                        </li>
                        <span class="text-sm italic text-white">*(Plusieurs réponses sont possibles)</span>
                    </ul>
                    <div class="pt-8 flex justify-between w-full">
                        <img src="{{imgUrl}}/general/roadmatch/arrow_left.png" class="h-12 md:h-14 lg:h-16 float-left"
                            (click)="prevStep()">
                        <img src="{{imgUrl}}/general/roadmatch/arrow_right.png" class="h-12 md:h-14 lg:h-16 float-right"
                            (click)="nextStep()">
                    </div>
                </ng-container>
                <ng-container *ngIf="currentStep === 5">
                    <!-- Step 5 -->
                    <img class="mt-8 px-12 h-[150px] lg:h-[200px] xl-h[200px] tw-padding"
                        src="{{imgUrl}}/general/roadmatch/roadmatch-logo.png">
                    <span class="text-2xl xl:text-[40px] lg:text-4xl md:text-3xl font-bold text-white text-center">
                        La voiture idéale selon vous :
                        <div class=" text-sm text-white text-center mt-1" *ngIf="total >= 0"> {{total}} véhicules
                            correspondent à vos critères</div>
                    </span>
                    <ul class="text-start sm:mx-0 md:mx-5 lg:mx-5 xl:mx-5 my-8">
                        <li *ngFor="let item of categorieTypes" class="ais-RefinementList-item mb-2">
                            <label class="ais-RefinementList-label">
                                <input type="checkbox" [value]="item.value"
                                    class="ais-RefinementList-checkbox custom-checkbox"
                                    [checked]="isSelected('category', item)" (click)="selectItem('category', item)" />
                                <div class="line-height">
                                    <span class="text-white text-base md:text-xl lg:text-xl xl:text-xl">{{
                                        item.description }}</span>
                                </div>
                            </label>
                        </li>
                        <span class="text-sm italic text-white">*(Plusieurs réponses sont possibles)</span>
                    </ul>
                    <div class="pt-8 flex justify-between w-full">
                        <img src="{{imgUrl}}/general/roadmatch/arrow_left.png" class="h-12 md:h-14 lg:h-16 float-left"
                            (click)="prevStep()">
                        <img src="{{imgUrl}}/general/roadmatch/arrow_right.png" class="h-12 md:h-14 lg:h-16 float-right"
                            (click)="nextStep()">
                    </div>
                </ng-container>
                <ng-container *ngIf="currentStep === 6">
                    <!-- Step 6 -->
                    <img class="mt-8 px-12 h-[150px] lg:h-[200px] xl-h[200px] tw-padding"
                        src="{{imgUrl}}/general/roadmatch/roadmatch-logo.png">
                    <span class="text-2xl xl:text-[40px] lg:text-4xl md:text-3xl font-bold text-white text-center">
                        Quel est votre budget ?
                        <div class=" text-sm text-white text-center mt-1" *ngIf="total >= 0">
                            {{total}} véhicules correspondent à vos critères</div>
                    </span>
                    <ul
                        class="text-start list-item sm:mx-0 md:mx-5 lg:mx-5 xl:mx-5 my-8 w-full md:w-3/4 lg:w-2/4 xl:w-2/4 mt-[5rem]">
                        <li>
                            <div class="relative ml-0 bottom-[60px]">
                                <label class="text-xl text-white mb-16">
                                    <span class="font-bold">Loyer</span>
                                    <span> de </span>
                                    <span class="font-bold"> {{minRent}}€</span>
                                    à
                                    <span class="font-bold"> {{maxRent}}€</span>
                                </label>
                            </div>
                            <app-interval-slider [promoPage]="true" [step]="false" [minValue]="minRent1"
                                [maxValue]="maxRent1" [sliderParams]="rentSliderParams"
                                (sliderValuesEmitter)="sliderValuesForRentSlider($event)"></app-interval-slider>
                        </li>
                        <li class="mt-[7rem]">
                            <div class="relative ml-0 bottom-[60px]">
                                <label class="text-xl text-white mb-16">
                                    <span class="font-bold">Prix</span>
                                    <span> de </span>
                                    <span class="font-bold"> {{minPrice}}€</span>
                                    à
                                    <span class="font-bold"> {{maxPrice}}€</span>
                                </label>
                            </div>
                            <app-interval-slider [promoPage]="true" [step]="false" [minValue]="minPrice1"
                                [maxValue]="maxPrice1" [sliderParams]="priceSliderParams"
                                (sliderValuesEmitter)="sliderValuesForPriceSlider($event)"></app-interval-slider>
                        </li>
                    </ul>
                    <div class="pt-24 flex justify-between w-full">
                        <img src="{{imgUrl}}/general/roadmatch/arrow_left.png" class="h-12 md:h-14 lg:h-16 float-left"
                            (click)="prevStep()">
                        <div class="text-center mx-auto">
                            <a class="text-lg md:text-2xl lg:text-2xl xl:text-2xl text-white font-bold uppercase"
                                (click)="showResult()">
                                Voir les résultats
                            </a>
                        </div>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div>